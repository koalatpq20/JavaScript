<script type="text/javascript">

    /*
     * Promise
     */
    function getPromise() {
        return new Promise((resolve, reject) => {
            //condition code
            let a = 1;
            if (a > 1) {
                console.log("inside resolve");
                var result = { number: a, name: "param" };
                resolve(result); //object
            } else {
                reject("reject");
            }
        });
    }
    var p = getPromise();
    p.then((result) => {
        console.log(result);
    }).then(() => {
        console.log("then2");
    })
    .catch((message) => {
        console.log(message);
    })
        .finally(() => {
            console.log("finally block");
        });

    /**
     * Promise for code execution as workflow
     * Inside promise : write condition code to split workflow 2 branch: resolve, reject
     * Resolve(result) : pass result<object>
     * Then. then. then run after resolve
     * Catch run after reject
     * Finally run after all
     * */


    //Set timeout asyn
    let timeout = setTimeout(() => {
        alert("timeout");
    }, 2000);

    //Set interval
    let interval = setInterval(() => {
        alert("interval");        
    }, 10);

    clearInterval(interval);

    /**
     * Callback function
     */
    function doStep1(callback) {
        console.log("doStep1");
        callback();
    }

    function doStep2() {
        console.log("doStep2");
    }

    doStep1(doStep2);


</script>